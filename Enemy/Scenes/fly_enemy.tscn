[gd_scene load_steps=13 format=3 uid="uid://cqvitc5rtxekg"]

[ext_resource type="Script" uid="uid://m16nutlje5jc" path="res://Enemy/Fly_enemy.gd" id="1_x7ndy"]
[ext_resource type="PackedScene" uid="uid://blqy1785xxrj" path="res://Components/Hitbox&Hurtbox Stuff/hurt_box.tscn" id="2_r5arg"]
[ext_resource type="Script" uid="uid://yjwpqjr5cj1n" path="res://Components/hurt_component.gd" id="3_0231u"]
[ext_resource type="PackedScene" uid="uid://dglegomtu41bg" path="res://Components/Hitbox&Hurtbox Stuff/hit_box.tscn" id="4_ghd4p"]
[ext_resource type="Script" uid="uid://86uwh70cdq33" path="res://Components/health_component.gd" id="5_8rrkr"]
[ext_resource type="Script" uid="uid://c8xnefd6fkw30" path="res://Visual Effects/particle_emitter.gd" id="6_r5arg"]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_55ese"]

[sub_resource type="Resource" id="Resource_0231u"]
resource_local_to_scene = true
script = ExtResource("3_vfph5")
power = 10
metadata/_custom_type_script = "uid://yjwpqjr5cj1n"

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_ej31p"]

[sub_resource type="Resource" id="Resource_ghd4p"]
resource_local_to_scene = true
script = ExtResource("5_nqfhv")
health = 10
max_health = 10
metadata/_custom_type_script = "uid://86uwh70cdq33"

[sub_resource type="Resource" id="Resource_8rrkr"]
script = ExtResource("6_r5arg")
particle_color = Color(0.32035968, 0.9999997, 0.44507706, 1)
metadata/_custom_type_script = "uid://c8xnefd6fkw30"

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_ito7u"]

[node name="fly_enemy" type="CharacterBody2D" node_paths=PackedStringArray("healthbar")]
script = ExtResource("1_m3v6e")
healthbar = NodePath("HealthBar")
metadata/_custom_type_script = "uid://brj6c1kggd6lh"

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("CapsuleShape2D_55ese")

[node name="HurtBox" parent="." instance=ExtResource("2_dkaax")]
collision_layer = 2
collision_mask = 0
hurt_component = SubResource("Resource_0231u")

[node name="CollisionShape2D" type="CollisionShape2D" parent="HurtBox"]
shape = SubResource("CapsuleShape2D_ej31p")

[node name="NavigationAgent2D" type="NavigationAgent2D" parent="."]
unique_name_in_owner = true
avoidance_enabled = true
radius = 100.0

[node name="HitBox" parent="." node_paths=PackedStringArray("collision_shape2D", "node_to_kill") instance=ExtResource("4_5g3o4")]
collision_layer = 0
collision_mask = 4
health_component = SubResource("Resource_ghd4p")
collision_shape2D = NodePath("CollisionShape2D")
hit_effect = SubResource("Resource_8rrkr")
node_to_kill = NodePath("..")

[node name="CollisionShape2D" type="CollisionShape2D" parent="HitBox"]
shape = SubResource("CapsuleShape2D_ito7u")

[node name="NavigationObstacle2D" type="NavigationObstacle2D" parent="."]

[node name="HealthBar" type="ProgressBar" parent="."]
unique_name_in_owner = true
offset_left = -9.999998
offset_top = -20.999998
offset_right = 200.0
offset_bottom = 6.000002
scale = Vector2(0.1, 0.1)
show_percentage = false
